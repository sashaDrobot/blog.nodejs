$(function(){var i=!0;$(".switch-btn").on("click",function(e){e.preventDefault(),$("input").val(""),i?(i=!1,$(".register").show("slow"),$(".login").hide()):(i=!0,$(".login").show("slow"),$(".register").hide())}),$(".btn").on("click",function(){$("div.alert").remove()}),$("input").on("focus",function(){$("div.alert").remove(),$("input").removeClass("is-invalid")}),$(".register-btn").on("click",function(i){i.preventDefault();var e={login:$("#register-login").val(),password:$("#register-password").val(),passwordConfirm:$("#register-password-confirm").val()};$.ajax({type:"POST",data:JSON.stringify(e),contentType:"application/json",url:"/auth/register"}).done(function(i){i.ok?($("input").val(""),$(".register h5").after('<div class="alert alert-success" role="alert">Вы зарегестрированны!</div>'),$(location).attr("href","/")):($(".register h5").after('<div class="alert alert-danger" role="alert">'+i.error+"</div>"),i.fields&&i.fields.forEach(function(i){$("input[name="+i+"]").addClass("is-invalid")}))})}),$(".login-btn").on("click",function(i){i.preventDefault();var e={login:$("#login-login").val(),password:$("#login-password").val()};$.ajax({type:"POST",data:JSON.stringify(e),contentType:"application/json",url:"/auth/login"}).done(function(i){i.ok?($("input").val(""),$(".login h5").after('<div class="alert alert-success" role="alert">Отлично!</div>'),$(location).attr("href","/")):($(".login h5").after('<div class="alert alert-danger" role="alert">'+i.error+"</div>"),i.fields&&i.fields.forEach(function(i){$("input[name="+i+"]").addClass("is-invalid")}))})})});