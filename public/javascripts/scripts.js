$(function(){var e=!0;$(".switch-btn").on("click",function(r){r.preventDefault(),$("input").val(""),e?(e=!1,$(".register").show("slow"),$(".login").hide()):(e=!0,$(".login").show("slow"),$(".register").hide())}),$(".btn").on("click",function(){$("div.alert").remove()}),$("input").on("focus",function(){$("div.alert").remove(),$("input").removeClass("is-invalid")}),$(".register-btn").on("click",function(e){e.preventDefault();var r={login:$("#register-login").val(),password:$("#register-password").val(),passwordConfirm:$("#register-password-confirm").val()};$.ajax({type:"POST",data:JSON.stringify(r),contentType:"application/json",url:"/auth/register"}).done(function(e){e.ok?$(".register h5").after('<div class="alert alert-success" role="alert">Вы зарегестрированны!</div>'):($(".register h5").after('<div class="alert alert-danger" role="alert">'+e.error+"</div>"),e.fields&&e.fields.forEach(function(e){$("input[name="+e+"]").addClass("is-invalid")}))})})});